import  {EventEmitter} from 'events';

import dispatcher from '../dispatchers/dispatcher';

class DataStore extends EventEmitter{



  constructor(){
    super();

    this.interval = null;
    this.companyData =  [];
  }

  getData(){
    return this.companyData;
  }
  handleActions(action){
    switch(action.type) {
      case "FETCH_COMPANY_DATA" :
        this.fetchCompanyData(action.data);
      case "FETCH_COMPANY_ONE" :
        this.fetchOneCompanyData(action.data);

    }
  }

  fetchCompanyData(data){
    this.companyData = (data);
    this.emit('data_changed');
  }
  fetchOneCompanyData(data){
    this.companyData.forEach((item)=>{
    });

    this.emit('data_changed');
  }
}

const dataStore = new DataStore();
dispatcher.register(dataStore.handleActions.bind(dataStore));

export default dataStore;